<!DOCTYPE html>
    <html>
        <head>
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        </head>
        <style>
            .fade_out {{
                opacity: 0;
                transition: opacity 0.3s ease-in-out;
            }}
        </style>
        <body>
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-md-8">
                        <div class="jumbotron text-center p-4">
                            <h1 class="display-4">Add a new game!</h1>
                            <p class="lead">Enter the game name, number of players, duration in minutes and complexity and then click submit.</p>
                            <hr class="my-4">
                            <p>The complexity of a game can be found by searching for it on the <a href="https://boardgamegeek.com/">Board Game Geek</a> website.</p>
                            <p class="lead">
                              <a class="btn btn-primary btn-lg" href="https://boardgamegeek.com/blog/12853/blogpost/154375/bgg-weight" role="button">Learn more</a>
                            </p>
                        </div>
                    </div>
                </div>

                %STATUS_MESSAGE%

                <div class="row justify-content-center">
                    <div class="col-md-8">
                        <div class="form-group">
                            <label for="gameName">Game Name:</label>
                            <input type="text" id="gameName" class="form-control"/>
                        </div>

                        <div class="form-group">
                            <label for="minPlayers">Minimum Players:</label>
                            <input type="number" id="minPlayers" min="1" class="form-control"/>
                        </div>

                        <div class="form-group">
                            <label for="maxPlayers">Maximum Players:</label>
                            <input type="number" id="maxPlayers" min="1" class="form-control"/>
                        </div>

                        <div class="form-group">
                            <label for="duration">Duration (minutes):</label>
                            <input type="number" id="duration" min="1" class="form-control"/>
                        </div>

                        <div class="form-group">
                            <label for="complexity">Complexity:</label>
                            <input type="number" id="complexity" min="0" max="5" step="0.01" class="form-control"/>
                        </div>

                        <button type="button" class="btn btn-primary" onclick="print_info()">Submit</button>
                    </div>
                </div>
            </div>

            <script>
                function print_info(){{
                    var name = document.getElementById("gameName").value;
                    var min_players = document.getElementById("minPlayers").value;
                    var max_players = document.getElementById("maxPlayers").value;
                    var duration = document.getElementById("duration").value;
                    var complexity = document.getElementById("complexity").value;

                    console.log(complexity);
                    if(complexity == ''){{
                        console.log('setting complexity to 0');
                        complexity = 0;
                    }}

                    var xhttp = new XMLHttpRequest();
                    xhttp.open('POST', '/game/'+name+'/'+min_players+'/'+max_players+'/'+duration+'/'+complexity, true);
                    xhttp.send();
                }}

                function close_alert(){{
                    const element = document.getElementById("status_alert");
                    element.classList.add('fade_out');
                    element.addEventListener('transitionend', function() {{
                        element.remove();
                    }}, {{ once: true}});
                }}
            </script>
        </body>
    </html>